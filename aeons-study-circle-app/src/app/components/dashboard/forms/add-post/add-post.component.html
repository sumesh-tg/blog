<div class="row" id="vendorCreation">
    <div class="col-xl">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Create Blog Post</h5>
                <p>Create a html rich post.</p>
                <form name="form" #postForm="ngForm" (ngSubmit)="postForm.valid && submitAddPostForm()">
                    <div class="form-row">
                        <div class="form-group col-md-3">
                            <label for="inputEmail4">Title</label>
                            <input type="text" class="form-control" id="inputEmail4" required minlength="5" placeholder="" ng-blur="postForm.title.$validate()" [(ngModel)]="postModel.title" name="title" #title="ngModel">
                            <div *ngIf="postForm.submitted && title.invalid" class="invalid-feedback d-block">
                                <div *ngIf="title.errors.required">Title is required</div>
                                <div *ngIf="title.errors.minlength">Minimum length 5 is required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="inputEmail4">Sub Title</label>
                            <input type="text" class="form-control" id="inputEmail4" required minlength="5" placeholder="" [(ngModel)]="postModel.subTitle" name="subTitle" #subTitle="ngModel">
                            <div *ngIf="postForm.submitted && subTitle.invalid" class="invalid-feedback d-block">
                                <div *ngIf="subTitle.errors.required">Sub title is required</div>
                                <div *ngIf="subTitle.errors.minlength">Minimum length 5 is required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="inputEmail4">Header image</label>
                            <input type="File" class="form-control" id="inputEmail4" required placeholder="" (change)="handleFileInput($event.target.files)" [(ngModel)]="postModel.imageUrl" name="headerImage" #headerImage="ngModel">
                            <div *ngIf="postForm.submitted && headerImage.invalid" class="invalid-feedback d-block">
                                <div *ngIf="headerImage.errors.required">Header image is required</div>
                            </div>
                        </div>

                        <div class="form-group col-md-3">
                            <label for="inputEmail4">Expiry Date</label>
                            <input type="date" class="form-control" id="inputEmail4" placeholder="" required [(ngModel)]="postModel.expiryDate" name="expiryDate" name="expiryDate" #expiryDate="ngModel">
                            <div *ngIf="postForm.submitted && expiryDate.invalid" class="invalid-feedback d-block">
                                <div *ngIf="expiryDate.errors.required">Expiry date is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="editor2">Description</label>
                            <div>
                            <quill-editor [(ngModel)]="postModel.description" required minlength="50" name="editor2" [style]="{height: '250px'}" #description="ngModel">
                                <div quill-editor-toolbar>
                                    <span class="ql-formats">
                                      <button class="ql-bold" [title]="'Bold'"></button>
                                    </span>
                                    <span class="ql-formats">
                                      <select class="ql-align" [title]="'Aligment'">
                                        <option selected></option>
                                        <option value="center"></option>
                                        <option value="right"></option>
                                        <option value="justify"></option>
                                      </select>
                                      <select class="ql-align" [title]="'Aligment2'">
                                        <option selected></option>
                                        <option value="center"></option>
                                        <option value="right"></option>
                                        <option value="justify"></option>
                                      </select>
                                      <select class="ql-color" [title]="'color'">
                                        <option selected></option>
                                        <option value="red"></option>
                                        <option value="green"></option>
                                        <option value="yellow"></option>
                                        <option value="pink"></option>
                                        <option value="#5fd0a5"></option>
                                      </select>
                                    </span>
                                  </div>
                            </quill-editor>
                        </div>
                            <div *ngIf="postForm.submitted && description.invalid" class="invalid-feedback d-block">
                                <div *ngIf="description.errors.required">Post description is required</div>
                                <div *ngIf="description.errors.minlength">Minimum length 50 is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                        <label for="editor3">Detailed Description</label>
                        <div>
                        <quill-editor  [(ngModel)]="postModel.detailedDescription" required minlength="50" name="editor3" [style]="{height: '250px'}"  #detailedDescription="ngModel" > </quill-editor>
                        <!-- [modules]="detailedDescriptionEditorModules" binding not working when put this config -->
                            <div *ngIf="postForm.submitted && detailedDescription.invalid" class="invalid-feedback d-block">
                                <div *ngIf="detailedDescription.errors.required">Post detailed description is required</div>
                                <div *ngIf="detailedDescription.errors.minlength">Minimum length 50 is required</div>
                            </div>
                         </div>
                        </div>
                    </div>
                   
                    <button type="submit" class="btn btn-primary float-right mr-3" [disabled]="!postForm.valid || loading">Submit
                        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>    
                    </button>
                    <button class="btn btn-danger float-right mr-3" (click)="showPostPreview()" [disabled]="!postForm.valid">Preview </button>
                    <button type="submit" class="btn btn-secondary float-right mr-3" (click)="clearForm()">Clear</button>
                </form>
                <!-- <div class="custom-modal">
                    <ng-template #postContent let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title">Modal title</h4>
                          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
<app-preview></app-preview>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
                        </div>
                      </ng-template>
                </div> -->
            </div>
        </div>
    </div>
</div>

